export const metadata = {
  metadataBase: new URL("https://ui-layouts.com"),

  title: "Responsive Modal",
  description:
    "A responsive Modal component built with Vaul and Framer Motion. Opens like an app drawer on mobile devices and functions as a dialog or sliding panel on desktop.",
  keywords: [
    "Modal component",
    "Responsive Modal React",
    "Vaul Modal",
    "Framer Motion drawer",
    "React sliding panel",
    "Mobile app drawer UI",
    "React dialog drawer",
    "Animated drawer component",
    "Vaul motion drawer",
    "Responsive sidebar React",
    "Drawer with animation",
    "React UI drawer",
    "Dialog with slide animation",
    "App style drawer",
    "React bottom drawer",
    "Framer Motion UI component",
    "Accessible drawer React",
    "Responsive navigation drawer",
    "Interactive drawer UI",
    "React motion drawer",
  ],
  authors: [{ name: "Naymur Rahman", url: "https://twitter.com/naymur_dev" }],
  creator: "@naymur_dev",
  publisher: "UI Layouts",
  openGraph: {
    title: "Modal | UI Layouts",
    description:
      "A responsive Modal built with Vaul and Framer Motion. Mobile-first design with app-modal behavior and smooth transitions for desktop dialogs.",
    url: "https://ui-layouts.com/components/responsive-modal",
    images: [
      {
        url: 'https://ui-layouts.com/component-og.jpg',
        width: 1200,
        height: 630,
        alt: 'UI Layouts Components',
      },
    ],
    siteName: "UI Layouts",
    locale: "en_US",
    type: "website",
  },
  twitter: {
    card: "summary_large_image",
    title: "Drawer | UI Layouts",
    images: ['https://ui-layouts.com/component-og.jpg'],
    description:
      "Responsive drawer component using Vaul and Framer Motion. Works as an app drawer on mobile and a dialog/drawer on desktop.",
    creator: "@naymur_dev",
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      "max-video-preview": -1,
      "max-image-preview": "large",
      "max-snippet": -1,
    },
  },
  category: "technology",
};


<ComponentCodePreview name='responsive-modal' hasReTrigger responsive />

## Installation

<Tabs defaultValue="cli">

  <TabsList className='border-b w-full bg-white justify-start dark:bg-neutral-800 h-11'>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>

  <TabsContent value="cli">
   <CodeWithTabs>
      ```js !!tabs ui-layouts
      npx uilayouts@latest add responsive-modal
      ```

      ```tsx !!tabs shadcn
      npx shadcn@latest add 'https://www.ui-layouts.com/r/responsive-modal.json'
      ```
   </CodeWithTabs>
  </TabsContent>


<TabsContent value="manual" manualType>
```bash
npm install motion vaul
```

```ts drawer.tsx
'use client';

import React, {
  createContext,
  useContext,
  useState,
  useEffect,
  ReactNode,
} from 'react';
import { createPortal } from 'react-dom';
import { AnimatePresence, motion } from 'motion/react';
import { X } from 'lucide-react';
import { Drawer as VaulDrawer } from 'vaul';
import { cn } from '@/lib/utils';

interface DrawerContextProps {
  open: boolean;
  setOpen: (open: boolean) => void;
}

const DrawerContext = createContext<DrawerContextProps | undefined>(undefined);

export const useResponsiveModal = () => {
  const context = useContext(DrawerContext);
  if (!context) {
    throw new Error('useResponsiveModal must be used within a ResponsiveModalProvider');
  }
  return context;
};

interface ResponsiveModalProps {
  children: ReactNode;
  triggerContent?: ReactNode;
  open?: boolean;
  setOpen?: (open: boolean) => void;
  classname?: string;
}

export function ResponsiveModal({
  children,
  open: controlledOpen,
  setOpen: controlledSetOpen,
  classname,
}: ResponsiveModalProps) {
  const [internalOpen, setInternalOpen] = useState(false);
  const [isDesktop, setIsDesktop] = useState(false);
  const [mounted, setMounted] = useState(false);

  const open = controlledOpen !== undefined ? controlledOpen : internalOpen;
  const setOpen = controlledSetOpen || setInternalOpen;

  useEffect(() => {
    setMounted(true);
    const mediaQuery = window.matchMedia("(min-width: 768px)");
    const handleMediaChange = (event: MediaQueryListEvent) => {
      setIsDesktop(event.matches);
    };

    setIsDesktop(mediaQuery.matches);
    mediaQuery.addEventListener("change", handleMediaChange);
    return () => mediaQuery.removeEventListener("change", handleMediaChange);
  }, []);

  const trigger = React.Children.toArray(children).find(
    (child: any) => child.type === ResponsiveModalTrigger
  );
  const content = React.Children.toArray(children).filter(
    (child: any) => child.type !== ResponsiveModalTrigger
  );

  const desktopModal =
    isDesktop && mounted
      ? createPortal(
          <AnimatePresence>
            {open && (
              <motion.div
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                exit={{ opacity: 0 }}
                className="fixed inset-0 z-50] flex items-center justify-center bg-black/50 backdrop-blur-sm cursor-zoom-out"
                onClick={() => setOpen(false)}
              >
                <motion.div
                  initial={{ scale: 0.9, opacity: 0 }}
                  animate={{ scale: 1, opacity: 1 }}
                  exit={{ scale: 0.9, opacity: 0 }}
                  transition={{ type: "spring", duration: 0.5 }}
                  onClick={(e) => e.stopPropagation()}
                  className={cn(
                    "relative w-full max-w-md border bg-white dark:bg-neutral-900 rounded-lg cursor-default",
                    classname
                  )}
                >
                  <button
                    className="absolute top-2 right-2 bg-primary text-background p-2 border z-[1] rounded-md"
                    onClick={() => setOpen(false)}
                  >
                    <X />
                  </button>
                  {content}
                </motion.div>
              </motion.div>
            )}
          </AnimatePresence>,
          document.body
        )
      : null;

  return (
    <DrawerContext.Provider value={{ open, setOpen }}>
      {trigger}

      {desktopModal}

      {!isDesktop && (
        <VaulDrawer.Root shouldScaleBackground open={open} onOpenChange={setOpen}>
          <VaulDrawer.Portal>
            <VaulDrawer.Overlay className="fixed inset-0 z-50 bg-white/50 dark:bg-black/50 backdrop-blur-sm" />
            <VaulDrawer.Content className="fixed bottom-0 left-0 z-50 w-full max-h-[96%] bg-white dark:bg-neutral-900">
              <div className="mx-auto w-16 h-[0.30rem] flex-shrink-0 rounded-full bg-neutral-600 my-4" />
              <div className="w-full mx-auto max-h-[96vh] overflow-auto px-4 pb-2">
                {content}
              </div>
            </VaulDrawer.Content>
          </VaulDrawer.Portal>
        </VaulDrawer.Root>
      )}
    </DrawerContext.Provider>
  );
}


export function ResponsiveModalContent({
  children,
  className,
}: {
  children: ReactNode;
  className?: string;
}) {
  return <div className={cn('', className)}>{children}</div>;
}

export function ResponsiveModalTrigger({ children }: { children: ReactNode }) {
  const { setOpen } = useResponsiveModal();
  return <div onClick={() => setOpen(true)}>{children}</div>;
}
```
</TabsContent>
</Tabs>


Please add this property in your layout.tsx or app.tsx

```tsx
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang='en'>
      <body className={poppins.className}>
        <div vaul-drawer-wrapper=''>{children}</div>
      </body>
    </html>
  );
}
```

## Props

| Prop           | Type      | Description                                                        |
| -------------- | --------- | :----------------------------------------------------------------- |
| open           | boolean   | The content to be displayed within the AuroraBackground component. |
| setOpen        | boolean   | this is an function to close and open the drawer                   |
| triggerContent | ReactNode | This will use for default click without an using state             |

