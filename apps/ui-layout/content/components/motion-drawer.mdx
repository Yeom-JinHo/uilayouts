export const metadata = {
  metadataBase: new URL("https://ui-layouts.com"),

  title: "Motion Drawer",
  description:
    "A motion drawer component for React with smooth Framer Motion animations. Functions as a collapsible navigation drawer on mobile and a persistent sidebar on desktop.",
  keywords: [
    "Motion drawer React",
    "Framer Motion drawer",
    "Animated drawer component",
    "React drawer",
    "Collapsible drawer UI",
    "Responsive drawer React",
    "Drawer with motion effects",
    "React animated drawer",
    "Mobile drawer navigation",
    "Desktop sidebar component",
    "Framer Motion navigation drawer",
    "Interactive sidebar React",
    "Responsive layout sidebar",
    "React sidebar with animation",
    "Collapsible navigation panel",
    "Drawer style sidebar",
    "Accessible sidebar UI",
    "React motion sidebar",
    "Sidebar for dashboards",
    "Modern UI sidebar",
  ],
  authors: [{ name: "Naymur Rahman", url: "https://twitter.com/naymur_dev" }],
  creator: "@naymur_dev",
  publisher: "UI Layouts",
  openGraph: {
    title: "Responsive Sidebar | UI Layouts",
    description:
      "An animated responsive sidebar built with React and Framer Motion. Works as a navigation drawer on mobile and a collapsible sidebar on desktop.",
    url: "https://ui-layouts.com/components/motion-drawer",
    images: [
      {
        url: 'https://ui-layouts.com/component-og.jpg',
        width: 1200,
        height: 630,
        alt: 'UI Layouts Components',
      },
    ],
    siteName: "UI Layouts",
    locale: "en_US",
    type: "website",
  },
  twitter: {
    card: "summary_large_image",
    title: "Responsive Sidebar | UI Layouts",
    images: ['https://ui-layouts.com/component-og.jpg'],
    description:
      "Responsive sidebar component powered by Framer Motion. Smooth animations for navigation drawers and collapsible sidebars in React apps.",
    creator: "@naymur_dev",
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      "max-video-preview": -1,
      "max-image-preview": "large",
      "max-snippet": -1,
    },
  },
  category: "technology",
};

<ComponentCodePreview name='motion-drawer' hasReTrigger responsive />

## Installation

<Tabs defaultValue="cli">

  <TabsList className='border-b w-full bg-transparent dark:bg-transparent justify-start dark:bg-zinc-900 h-11'>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>

  <TabsContent value="cli">
   <CodeWithTabs>
      ```js !!tabs ui-layouts
      npx uilayouts@latest add motion-drawer
      ```

      ```tsx !!tabs shadcn
      npx shadcn@latest add 'https://www.ui-layouts.com/r/motion-drawer.json'
      ```
   </CodeWithTabs>
  </TabsContent>


<TabsContent value="manual">

```bash
npm install motion
```

```ts motion-drawer.tsx
'use client';
import React, { useState } from 'react';
import { motion, AnimatePresence } from 'motion/react';
import { Menu, X } from 'lucide-react';

export type SideMenuDirection = 'left' | 'right';
export type ButtonOpeningVariants = 'push' | 'merge' | 'stay';

interface SideMenuProps {
  // Appearance
  overlayColor?: string;
  width?: number;
  direction?: SideMenuDirection;
  backgroundColor?: string;

  // Content
  children: React.ReactNode;

  // Behavior
  isOpen?: boolean;
  onToggle?: (isOpen: boolean) => void;
  showToggleButton?: boolean;
  toggleButtonText?: {
    open: string;
    close: string;
  };

  // Styling
  className?: string;
  contentClassName?: string;
  overlayClassName?: string;

  // Animation
  animationConfig?: {
    type?: 'spring' | 'tween';
    damping?: number;
    stiffness?: number;
    duration?: number;
  };

  // Drag behavior
  enableDrag?: boolean;
  dragThreshold?: number;

  // New prop
  buttonOpeningVariants?: ButtonOpeningVariants;
}

const getOpenButtonVariants = (
  direction: SideMenuDirection,
  width: number,
  type: ButtonOpeningVariants
) => {
  switch (type) {
    case 'merge':
      return direction === 'left'
        ? {
            closed: { x: 0, opacity: 1, scale: 1, borderRadius: '0.5rem' },
            open: {
              x: width - 38,
              opacity: 0,
              scale: 1,
              borderRadius: '0rem',
            },
          }
        : {
            closed: { x: 0, opacity: 1, scale: 1, borderRadius: '0.5rem' },
            open: {
              x: 38 - width,
              opacity: 0,
              scale: 1,
              borderRadius: '0rem',
            },
          };

    case 'push':
      return direction === 'left'
        ? { closed: { x: 0, opacity: 1 }, open: { x: width + 20, opacity: 0 } }
        : {
            closed: { x: 0, opacity: 1 },
            open: { x: -(width + 20), opacity: 0 },
          };

    case 'stay':
    default:
      return {
        closed: { x: 0, opacity: 1 },
        open: { x: 0, opacity: 0 },
      };
  }
};

export const SideMenu: React.FC<SideMenuProps> = ({
  // Appearance
  overlayColor = 'rgba(0, 0, 0, 0.3)',
  width = 300,
  direction = 'left',
  backgroundColor = '#ffffff',

  // Content
  children,

  // Behavior
  isOpen: controlledIsOpen,
  onToggle,
  showToggleButton = true,

  // Styling
  className = '',
  contentClassName = '',
  overlayClassName = '',

  // Animation
  animationConfig = {
    type: 'spring',
    damping: 25,
    stiffness: 120,
  },

  // Drag behavior
  enableDrag = true,
  dragThreshold = 0.3,

  buttonOpeningVariants = 'push',
}) => {
  const [internalIsOpen, setInternalIsOpen] = useState<boolean>(false);

  const isOpen =
    controlledIsOpen !== undefined ? controlledIsOpen : internalIsOpen;
  const setIsOpen = (value: boolean) => {
    if (controlledIsOpen === undefined) {
      setInternalIsOpen(value);
    }
    onToggle?.(value);
  };

  const getDrawerVariants = () => {
    if (direction === 'left') {
      return {
        closed: { x: -width },
        open: { x: 0 },
      };
    } else {
      return {
        closed: { x: width },
        open: { x: 0 },
      };
    }
  };

  const buttonVariants = getOpenButtonVariants(
    direction,
    width,
    buttonOpeningVariants
  );

  const getDragConstraints = () => {
    if (direction === 'left') {
      return { left: -width, right: 0 };
    } else {
      return { left: 0, right: width };
    }
  };

  const handleDragEnd = (_event: any, info: any) => {
    if (!enableDrag) return;

    const threshold = width * dragThreshold;
    const dragDistance = Math.abs(info.offset.x);

    if (direction === 'left') {
      const isDraggingLeft = info.offset.x < 0;
      if (isDraggingLeft && dragDistance > threshold && isOpen) {
        setIsOpen(false);
      } else if (!isDraggingLeft && dragDistance > threshold && !isOpen) {
        setIsOpen(true);
      }
    } else {
      const isDraggingRight = info.offset.x > 0;
      if (isDraggingRight && dragDistance > threshold && isOpen) {
        setIsOpen(false);
      } else if (!isDraggingRight && dragDistance > threshold && !isOpen) {
        setIsOpen(true);
      }
    }
  };

  const drawerPositionClasses = direction === 'left' ? 'left-0' : 'right-0';
  const openButtonPositionClasses =
    direction === 'left' ? 'top-4 left-4' : 'top-4 right-4';

  return (
    <>
      {showToggleButton && (
        <motion.button
          className={`fixed z-50 text-primary cursor-pointer ${openButtonPositionClasses}`}
          onClick={() => setIsOpen(true)}
          variants={buttonVariants}
          animate={isOpen ? 'open' : 'closed'}
          transition={animationConfig}
          whileHover={{ scale: 1.05 }}
          whileTap={{ scale: 0.95 }}
        >
          <Menu />
        </motion.button>
      )}

      <AnimatePresence>
        {isOpen && (
          <div
            className={`fixed w-full h-full top-0 left-0 z-[9999] ${className}`}
          >
            {/* Overlay */}
            <motion.div
              className={`absolute w-full h-full top-0 left-0 ${overlayClassName}`}
              style={{ backgroundColor: overlayColor }}
              onClick={() => setIsOpen(false)}
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              transition={{ duration: 0.3 }}
            />

            {/* Drawer */}
            <motion.div
              className={`absolute h-full shadow-[8px_1px_21px_0px_rgba(17,17,26,0.1)] ${drawerPositionClasses} ${contentClassName}`}
              style={{
                backgroundColor,
                width: `${width}px`,
                padding: '60px 30px 30px 30px',
                boxSizing: 'border-box',
              }}
              drag={enableDrag ? 'x' : false}
              dragElastic={0.1}
              dragConstraints={getDragConstraints()}
              dragMomentum={false}
              onDragEnd={handleDragEnd}
              variants={getDrawerVariants()}
              initial='closed'
              animate='open'
              exit='closed'
              transition={animationConfig}
            >
              {/* Close Button */}
              {showToggleButton && (
                <motion.button
                  className='absolute top-2 right-4 p-2 text-black cursor-pointer'
                  onClick={() => setIsOpen(false)}
                  whileHover={{ scale: 1.1 }}
                  whileTap={{ scale: 0.9 }}
                  transition={{ duration: 0.2 }}
                >
                  <X size={20} />
                </motion.button>
              )}

              {/* Content */}
              <div className='h-full overflow-y-auto'>{children}</div>
            </motion.div>
          </div>
        )}
      </AnimatePresence>
    </>
  );
};

export default SideMenu;
```
</TabsContent>
</Tabs>

## Props

| Prop                  | Type                                      | Default                       | Description                                                        |
| --------------------- | ----------------------------------------- | ----------------------------- | ------------------------------------------------------------------ |
| overlayColor          | `string`                                  | `'rgba(0, 0, 0, 0.3)'`        | Color of the background overlay.                                   |
| width                 | `number`                                  | `300`                         | Width of the side menu.                                            |
| direction             | `'left' \| 'right'`                       | `'left'`                      | The direction from which the menu opens.                           |
| backgroundColor       | `string`                                  | `'#ffffff'`                   | Background color of the side menu.                                 |
| children              | `React.ReactNode`                         |                               | The content to display inside the side menu.                       |
| isOpen                | `boolean`                                 |                               | Controls the open/closed state of the menu.                        |
| onToggle              | `(isOpen: boolean) => void`               |                               | Callback when the menu is opened or closed.                        |
| showToggleButton      | `boolean`                                 | `true`                        | Whether to show the toggle button.                                 |
| toggleButtonText      | `{ open: string; close: string }`         |                               | Custom text for the toggle button.                                 |
| className             | `string`                                  | `''`                          | Custom className for the container.                                |
| contentClassName      | `string`                                  | `''`                          | Custom className for the content area.                             |
| overlayClassName      | `string`                                  | `''`                          | Custom className for the overlay.                                  |
| animationConfig       | `{ type?: 'spring' \| 'tween'; damping?: number; stiffness?: number; duration?: number }` | `{ type: 'spring', damping: 25, stiffness: 120 }` | Configuration for the animation.                                   |
| enableDrag            | `boolean`                                 | `true`                        | Whether to allow drag-to-close.                                    |
| dragThreshold         | `number`                                  | `0.3`                         | Threshold for drag-to-close.                                       |
| buttonOpeningVariants | `'push' \| 'merge' \| 'stay'`             | `'merge'`                     | Controls how the toggle button animates when the menu opens.        |


## Examples

### Right Drawer 

<ComponentCodePreview name='right-motion-drawer' hasReTrigger responsive />
