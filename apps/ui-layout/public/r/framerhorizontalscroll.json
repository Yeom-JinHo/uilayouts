{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "framerhorizontalscroll",
  "type": "registry:component",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "./registry/components/scroll-animation/framer-horizontal-scroll.tsx",
      "content": "'use client';\r\nimport {\r\n  motion,\r\n  MotionProps,\r\n  useMotionValueEvent,\r\n  useScroll,\r\n  useTransform,\r\n} from 'motion/react';\r\n\r\n// * based on: https://gist.github.com/coleturner/34396fb826c12fbd88d6591173d178c2\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { throttle } from '../../../lib/utils';\r\n\r\nexport const items = [\r\n  {\r\n    id: 1,\r\n    url: 'https://images.unsplash.com/photo-1709949908058-a08659bfa922?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 2,\r\n    url: 'https://images.unsplash.com/photo-1548192746-dd526f154ed9?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 3,\r\n    url: 'https://images.unsplash.com/photo-1693581176773-a5f2362209e6?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 4,\r\n    url: 'https://images.unsplash.com/photo-1584043204475-8cc101d6c77a?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 5,\r\n    url: 'https://images.unsplash.com/photo-1709949908058-a08659bfa922?q=80&w=1200&auto=format',\r\n  },\r\n\r\n  {\r\n    id: 7,\r\n    url: 'https://images.unsplash.com/photo-1518599904199-0ca897819ddb?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 8,\r\n    url: 'https://images.unsplash.com/photo-1706049379414-437ec3a54e93?q=80&w=1200&auto=format',\r\n  },\r\n\r\n  {\r\n    id: 91,\r\n    url: 'https://images.unsplash.com/photo-1709949908219-fd9046282019?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 92,\r\n    url: 'https://images.unsplash.com/photo-1462989856370-729a9c1e2c91?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 10,\r\n    url: 'https://images.unsplash.com/photo-1475727946784-2890c8fdb9c8?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 11,\r\n    url: 'https://images.unsplash.com/photo-1546942113-a6c43b63104a?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 12,\r\n    url: 'https://images.unsplash.com/photo-1726551195764-f98a8e8a57c3?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 13,\r\n    url: 'https://images.unsplash.com/photo-1726551195795-612ca47c0b7d?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 14,\r\n    url: 'https://images.unsplash.com/photo-1532423622396-10a3f979251a?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 15,\r\n    url: 'https://images.unsplash.com/photo-1490750967868-88aa4486c946?q=80&w=1200&auto=format',\r\n  },\r\n  {\r\n    id: 16,\r\n    url: 'https://images.unsplash.com/photo-1496861083958-175bb1bd5702?q=80&w=1200&auto=format',\r\n  },\r\n];\r\n\r\n// * based on: https://gist.github.com/coleturner/34396fb826c12fbd88d6591173d178c2\r\nfunction useElementViewportPosition(ref: React.RefObject<HTMLElement | null>) {\r\n  const [position, setPosition] = useState<[number, number]>([0, 0]);\r\n\r\n  useEffect(() => {\r\n    if (!ref || !ref.current) return;\r\n\r\n    const pageHeight = document.body.scrollHeight;\r\n    const start = ref.current.offsetTop;\r\n    const end = start + ref.current.offsetHeight;\r\n\r\n    setPosition([start / pageHeight, end / pageHeight]);\r\n  }, []);\r\n\r\n  return { position };\r\n}\r\n\r\nconst slideAnimation: MotionProps = {\r\n  variants: {\r\n    full: { backgroundColor: '#008299' },\r\n    partial: { backgroundColor: '#ffffff' },\r\n  },\r\n  initial: 'partial',\r\n  whileInView: 'full',\r\n  viewport: { amount: 1, once: false },\r\n};\r\n\r\nexport default function index() {\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n  const carouselRef = useRef<HTMLDivElement>(null);\r\n  const { position } = useElementViewportPosition(mainRef);\r\n  //   const { ref, start, end } = useRefScrollProgress(mainRef)\r\n  const [carouselEndPosition, setCarouselEndPosition] = useState(0);\r\n  const { scrollYProgress, scrollY } = useScroll();\r\n  const x = useTransform(scrollYProgress, position, [0, carouselEndPosition]);\r\n\r\n  console.log(carouselEndPosition);\r\n  useMotionValueEvent(scrollY, 'change', (latest) => {\r\n    console.log('Page scroll: ', latest);\r\n  });\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', () => console.log(carouselEndPosition));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!carouselRef || !carouselRef.current) return;\r\n    const parent = carouselRef.current.parentElement;\r\n    const scrollbarWidth =\r\n      window.innerWidth - document.documentElement.clientWidth;\r\n\r\n    const resetCarouselEndPosition = () => {\r\n      if (carouselRef && carouselRef.current) {\r\n        const newPosition =\r\n          carouselRef.current.clientWidth -\r\n          window.innerWidth +\r\n          scrollbarWidth +\r\n          (parent as HTMLElement).offsetLeft * 2;\r\n\r\n        setCarouselEndPosition(-newPosition);\r\n      }\r\n    };\r\n\r\n    resetCarouselEndPosition();\r\n    const handleResize = throttle(resetCarouselEndPosition, 10);\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <section ref={mainRef}>\r\n        <div className='w-full mx-auto' style={{ height: '300vh' }}>\r\n          <div className='sticky top-0 h-screen w-full flex flex-col items-start justify-center overflow-hidden'>\r\n            <motion.div ref={carouselRef} className='flex gap-10' style={{ x }}>\r\n              {items.map((item, index) => (\r\n                <motion.div\r\n                  {...slideAnimation}\r\n                  key={item.id}\r\n                  className='group relative h-[300px] w-[300px] overflow-hidden bg-neutral-200'\r\n                >\r\n                  <motion.img\r\n                    key={item.id}\r\n                    className='w-full shrink-0 h-full object-cover'\r\n                    src={item?.url}\r\n                    alt={'img'}\r\n                  />\r\n                </motion.div>\r\n              ))}\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <footer className='group '>\r\n        <h1 className='text-[16vw] group-hover:translate-y-4 translate-y-20 leading-[100%] uppercase font-semibold text-center bg-linear-to-r from-gray-400 to-gray-800 bg-clip-text text-transparent transition-all ease-linear'>\r\n          ui-layout\r\n        </h1>\r\n        <section className='bg-black h-40 relative z-10 grid place-content-center text-2xl rounded-tr-full rounded-tl-full'>\r\n          Thanks for Scrolling\r\n        </section>\r\n      </footer>\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}