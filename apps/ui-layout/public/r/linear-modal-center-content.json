{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "linear-modal-center-content",
  "type": "registry:component",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "./registry/components/linear-modal/center-content.tsx",
      "content": "import {\r\n  Dialog,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogTitle,\r\n  DialogImage,\r\n  DialogClose,\r\n  DialogDescription,\r\n  DialogContainer,\r\n} from '@/components/ui/linear-modal';\r\nimport { Plus } from 'lucide-react';\r\n\r\nconst items = [\r\n  {\r\n    id: 1,\r\n    url: 'https://images.unsplash.com/photo-1757672242146-a6a7897bcc80?q=80&w=1171&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\r\n    title: 'Accordion',\r\n    description:\r\n      'Immerse yourself in our cutting-edge interactive gallery, designed to showcase a diverse array of visual content with unparalleled clarity and style. This feature allows users to effortlessly navigate through high-resolution images, from awe-inspiring landscapes to intimate portraits and abstract art. With smooth transitions, intuitive controls, and responsive design, our gallery adapts to any device, ensuring a seamless browsing experience. Dive deeper into each piece with expandable information panels, offering insights into the artist, technique, and story behind each image. ',\r\n    tags: ['Sunrise', 'Mountains', 'Golden', 'Scenic', 'Inspiring'],\r\n  },\r\n  {\r\n    id: 2,\r\n    url: 'https://images.unsplash.com/photo-1756806983725-977bb2308d4e?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\r\n    title: 'Globe Section',\r\n    description: `Embark on a virtual journey around the world with our state-of-the-art 3D globe feature. This interactive marvel allows users to explore geographical data, global trends, and worldwide connections with unprecedented ease and detail. Spin the globe with a flick of your mouse, zoom into street-level views, or soar high for a continental perspective. Our globe section integrates real-time data feeds, showcasing everything from climate patterns and population densities to economic indicators and cultural hotspots. Customizable layers let you focus on specific data sets, while intuitive tooltips provide in-depth information at every turn. `,\r\n    tags: ['Misty', 'Path', 'Mysterious', 'Serene', 'Rugged'],\r\n  },\r\n  {\r\n    id: 3,\r\n    url: 'https://images.unsplash.com/photo-1756806983832-1f056cf24182?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\r\n    title: 'Image Mouse Trail',\r\n    description: `Transform your browsing experience with our mesmerizing Image Mouse Trail feature. As you move your cursor across the screen, watch in wonder as a trail of carefully curated images follows in its wake, creating a dynamic and engaging visual spectacle. This innovative feature goes beyond mere aesthetics; it's an interactive showcase of your content, products, or artwork. Each image in the trail can be clickable, leading to detailed views or related content, turning casual mouse movements into opportunities for discovery.`,\r\n    tags: ['Pathway', 'Adventure', 'Peaks', 'Challenging', 'Breathtaking'],\r\n  },\r\n];\r\nexport default function App() {\r\n  return (\r\n    <div className='flex gap-4 max-w-5xl mx-auto h-full justify-center items-center'>\r\n      {items.map((item, i) => {\r\n        return (\r\n          <>\r\n            <Dialog\r\n              transition={{\r\n                type: 'spring',\r\n                bounce: 0.05,\r\n                duration: 0.5,\r\n              }}\r\n            >\r\n              <DialogTrigger\r\n                style={{\r\n                  borderRadius: '12px',\r\n                }}\r\n                className='flex w-full h-72 border dark:bg-black bg-white flex-col overflow-hidden'\r\n              >\r\n                <DialogImage\r\n                  src={item.url}\r\n                  alt=''\r\n                  className='h-full w-full object-cover'\r\n                />\r\n                <div className='flex grow flex-row items-end justify-between p-3 pt-4 text-primary'>\r\n                  <div>\r\n                    <DialogTitle className='text-xl '>\r\n                      {item.title}\r\n                    </DialogTitle>\r\n                  </div>\r\n                  <button className='absolute bottom-2 right-2 p-2 bg-neutral-200 dark:bg-neutral-900 rounded-lg'>\r\n                    <Plus className='w-6 h-6' />\r\n                  </button>\r\n                </div>\r\n              </DialogTrigger>\r\n              <DialogContainer className='grid place-items-center h-full'>\r\n                <DialogContent\r\n                  style={{\r\n                    borderRadius: '24px',\r\n                  }}\r\n                  className='h-fit mx-auto border-4'\r\n                >\r\n                  <div className='flex flex-col relative dark:bg-neutral-900 bg-neutral-100 lg:w-176 w-[80%] h-[80vh] overflow-y-auto '>\r\n                    <div className='flex-1 overflow-hidden'>\r\n                      <DialogImage\r\n                        src={item.url}\r\n                        alt=''\r\n                        className='h-full object-cover w-full mx-auto'\r\n                      />\r\n                    </div>\r\n\r\n                    <div className='p-6'>\r\n                      <DialogTitle className='text-5xl dark:text-white text-zinc-950 '>\r\n                        {item.title}\r\n                      </DialogTitle>\r\n\r\n                      <DialogDescription\r\n                        disableLayoutAnimation\r\n                        variants={{\r\n                          initial: { opacity: 0, scale: 0.8, y: -40 },\r\n                          animate: { opacity: 1, scale: 1, y: 0 },\r\n                          exit: { opacity: 0, scale: 0.8, y: -50 },\r\n                        }}\r\n                      >\r\n                        <p className='mt-2 dark:text-white text-zinc-500 '>\r\n                          {item.description}\r\n                        </p>\r\n                      </DialogDescription>\r\n                    </div>\r\n                    <DialogClose className='text-primary  bg-primary-foreground p-4 rounded-lg' />\r\n                  </div>\r\n                </DialogContent>\r\n              </DialogContainer>\r\n            </Dialog>\r\n          </>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    },
    {
      "path": "./components/ui/linear-modal.tsx",
      "content": "'use client';\r\n\r\nimport React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useId,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport {\r\n  motion,\r\n  AnimatePresence,\r\n  MotionConfig,\r\n  Transition,\r\n  Variant,\r\n} from 'motion/react';\r\nimport { createPortal } from 'react-dom';\r\nimport { cn } from '@/lib/utils';\r\nimport { XIcon } from 'lucide-react';\r\n\r\ninterface DialogContextType {\r\n  isOpen: boolean;\r\n  setIsOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  uniqueId: string;\r\n  triggerRef: React.RefObject<HTMLDivElement>;\r\n}\r\n\r\nconst DialogContext = React.createContext<DialogContextType | null>(null);\r\n\r\nfunction useDialog() {\r\n  const context = useContext(DialogContext);\r\n  if (!context) {\r\n    throw new Error('useDialog must be used within a DialogProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ntype DialogProviderProps = {\r\n  children: React.ReactNode;\r\n  transition?: Transition;\r\n};\r\n\r\nfunction DialogProvider({ children, transition }: DialogProviderProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const uniqueId = useId();\r\n  const triggerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const contextValue = useMemo(\r\n    () => ({ isOpen, setIsOpen, uniqueId, triggerRef }),\r\n    [isOpen, uniqueId]\r\n  );\r\n\r\n  return (\r\n    <DialogContext.Provider\r\n      //@ts-ignore\r\n      value={contextValue}\r\n    >\r\n      <MotionConfig transition={transition}>{children}</MotionConfig>\r\n    </DialogContext.Provider>\r\n  );\r\n}\r\n\r\ntype DialogProps = {\r\n  children: React.ReactNode;\r\n  transition?: Transition;\r\n};\r\n\r\nfunction Dialog({ children, transition }: DialogProps) {\r\n  return (\r\n    <DialogProvider>\r\n      <MotionConfig transition={transition}>{children}</MotionConfig>\r\n    </DialogProvider>\r\n  );\r\n}\r\n\r\ntype DialogTriggerProps = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n  triggerRef?: React.RefObject<HTMLDivElement>;\r\n};\r\n\r\nfunction DialogTrigger({\r\n  children,\r\n  className,\r\n  style,\r\n  triggerRef,\r\n}: DialogTriggerProps) {\r\n  const { setIsOpen, isOpen, uniqueId } = useDialog();\r\n\r\n  const handleClick = useCallback(() => {\r\n    setIsOpen(!isOpen);\r\n  }, [isOpen, setIsOpen]);\r\n\r\n  const handleKeyDown = useCallback(\r\n    (event: React.KeyboardEvent) => {\r\n      if (event.key === 'Enter' || event.key === ' ') {\r\n        event.preventDefault();\r\n        setIsOpen(!isOpen);\r\n      }\r\n    },\r\n    [isOpen, setIsOpen]\r\n  );\r\n\r\n  return (\r\n    <motion.div\r\n      ref={triggerRef}\r\n      layoutId={`dialog-${uniqueId}`}\r\n      className={cn('relative cursor-pointer', className)}\r\n      onClick={handleClick}\r\n      onKeyDown={handleKeyDown}\r\n      style={style}\r\n      role='button'\r\n      aria-haspopup='dialog'\r\n      aria-expanded={isOpen}\r\n      aria-controls={`dialog-content-${uniqueId}`}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\ntype DialogContent = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nfunction DialogContent({ children, className, style }: DialogContent) {\r\n  const { setIsOpen, isOpen, uniqueId, triggerRef } = useDialog();\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [firstFocusableElement, setFirstFocusableElement] =\r\n    useState<HTMLElement | null>(null);\r\n  const [lastFocusableElement, setLastFocusableElement] =\r\n    useState<HTMLElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        setIsOpen(false);\r\n      }\r\n      if (event.key === 'Tab') {\r\n        if (!firstFocusableElement || !lastFocusableElement) return;\r\n\r\n        if (event.shiftKey) {\r\n          if (document.activeElement === firstFocusableElement) {\r\n            event.preventDefault();\r\n            lastFocusableElement.focus();\r\n          }\r\n        } else {\r\n          if (document.activeElement === lastFocusableElement) {\r\n            event.preventDefault();\r\n            firstFocusableElement.focus();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [setIsOpen, firstFocusableElement, lastFocusableElement]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n\r\n      const focusableElements = containerRef.current?.querySelectorAll(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      );\r\n      if (focusableElements && focusableElements.length > 0) {\r\n        setFirstFocusableElement(focusableElements[0] as HTMLElement);\r\n        setLastFocusableElement(\r\n          focusableElements[focusableElements.length - 1] as HTMLElement\r\n        );\r\n        // Delay focus slightly to allow animation to start\r\n        requestAnimationFrame(() => {\r\n          (focusableElements[0] as HTMLElement).focus();\r\n        });\r\n      }\r\n\r\n      if (containerRef.current) {\r\n        containerRef.current.scrollTop = 0;\r\n      }\r\n    } else {\r\n      document.body.style.overflow = '';\r\n      triggerRef.current?.focus();\r\n    }\r\n  }, [isOpen, triggerRef]);\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        ref={containerRef}\r\n        layoutId={`dialog-${uniqueId}`}\r\n        className={cn('overflow-hidden', className)}\r\n        style={{\r\n          ...style,\r\n          willChange: 'transform, opacity', // GPU acceleration\r\n        }}\r\n        role='dialog'\r\n        aria-modal='true'\r\n        aria-labelledby={`dialog-title-${uniqueId}`}\r\n        aria-describedby={`dialog-description-${uniqueId}`}\r\n        initial={{ scale: 0.95, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.95, opacity: 0 }}\r\n        transition={{\r\n          type: 'spring',\r\n          damping: 25,\r\n          stiffness: 300,\r\n          mass: 0.8,\r\n        }}\r\n      >\r\n        {children}\r\n      </motion.div>\r\n    </>\r\n  );\r\n}\r\ntype DialogContainerProps = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  overlayClassName?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nfunction DialogContainer({\r\n  children,\r\n  className,\r\n  overlayClassName,\r\n}: DialogContainerProps) {\r\n  const { isOpen, setIsOpen, uniqueId } = useDialog();\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const drawerWrapper = document.querySelectorAll('[drawer-wrapper]');\r\n\r\n    if (isOpen) {\r\n      document.body.classList.add('overflow-hidden');\r\n      drawerWrapper.forEach((wrapper) => wrapper?.classList.add('open'));\r\n    } else {\r\n      document.body.classList.remove('overflow-hidden');\r\n      drawerWrapper.forEach((wrapper) => wrapper?.classList.remove('open'));\r\n    }\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    return () => {\r\n      setMounted(false);\r\n    };\r\n  }, []);\r\n\r\n  if (!mounted) return null;\r\n\r\n  return createPortal(\r\n    <AnimatePresence initial={false} mode='wait'>\r\n      {isOpen && (\r\n        <>\r\n          <motion.div\r\n            key={`backdrop-${uniqueId}`}\r\n            data-lenis-prevent\r\n            className={cn(\r\n              'fixed inset-0 h-full z-50 w-full backdrop-blur-xl dark:bg-[radial-gradient(125%_125%_at_50%_10%,#050505_40%,#243aff_100%)] bg-[radial-gradient(125%_125%_at_50%_10%,#ffffff_40%,#243aff_100%)]',\r\n              overlayClassName\r\n            )}\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{\r\n              duration: 0.2,\r\n              ease: [0.4, 0.0, 0.4, 1],\r\n            }}\r\n            onClick={() => setIsOpen(false)}\r\n          ></motion.div>\r\n          <motion.div\r\n            className={cn(`fixed inset-0 z-50 w-fit mx-auto`, className)}\r\n            style={{ willChange: 'transform' }} // GPU acceleration for transforms\r\n          >\r\n            {children}\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>,\r\n    document.body\r\n  );\r\n}\r\ntype DialogTitleProps = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nfunction DialogTitle({ children, className, style }: DialogTitleProps) {\r\n  const { uniqueId } = useDialog();\r\n\r\n  return (\r\n    <motion.h1\r\n      layoutId={`dialog-title-container-${uniqueId}`}\r\n      className={className}\r\n      style={style}\r\n      layout\r\n    >\r\n      {children}\r\n    </motion.h1>\r\n  );\r\n}\r\n\r\ntype DialogSubtitleProps = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nfunction DialogSubtitle({ children, className, style }: DialogSubtitleProps) {\r\n  const { uniqueId } = useDialog();\r\n\r\n  return (\r\n    <motion.div\r\n      layoutId={`dialog-subtitle-container-${uniqueId}`}\r\n      className={className}\r\n      style={style}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\ntype DialogDescriptionProps = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  disableLayoutAnimation?: boolean;\r\n  variants?: {\r\n    initial: Variant;\r\n    animate: Variant;\r\n    exit: Variant;\r\n  };\r\n};\r\n\r\nfunction DialogDescription({\r\n  children,\r\n  className,\r\n  variants,\r\n  disableLayoutAnimation,\r\n}: DialogDescriptionProps) {\r\n  const { uniqueId } = useDialog();\r\n\r\n  return (\r\n    <motion.div\r\n      key={`dialog-description-${uniqueId}`}\r\n      layoutId={\r\n        disableLayoutAnimation\r\n          ? undefined\r\n          : `dialog-description-content-${uniqueId}`\r\n      }\r\n      variants={variants}\r\n      className={className}\r\n      initial='initial'\r\n      animate='animate'\r\n      exit='exit'\r\n      id={`dialog-description-${uniqueId}`}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\ntype DialogImageProps = {\r\n  src: string;\r\n  alt: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nfunction DialogImage({ src, alt, className, style }: DialogImageProps) {\r\n  const { uniqueId } = useDialog();\r\n\r\n  return (\r\n    <motion.img\r\n      src={src}\r\n      alt={alt}\r\n      className={cn(className)}\r\n      layoutId={`dialog-img-${uniqueId}`}\r\n      style={style}\r\n    />\r\n  );\r\n}\r\n\r\ntype DialogCloseProps = {\r\n  children?: React.ReactNode;\r\n  className?: string;\r\n  variants?: {\r\n    initial: Variant;\r\n    animate: Variant;\r\n    exit: Variant;\r\n  };\r\n};\r\n\r\nfunction DialogClose({ children, className, variants }: DialogCloseProps) {\r\n  const { setIsOpen, uniqueId } = useDialog();\r\n\r\n  const handleClose = useCallback(() => {\r\n    setIsOpen(false);\r\n  }, [setIsOpen]);\r\n\r\n  return (\r\n    <motion.button\r\n      onClick={handleClose}\r\n      type='button'\r\n      aria-label='Close dialog'\r\n      key={`dialog-close-${uniqueId}`}\r\n      className={cn('absolute right-6 top-6 text-white', className)}\r\n      initial='initial'\r\n      animate='animate'\r\n      exit='exit'\r\n      variants={variants}\r\n    >\r\n      {children || <XIcon size={24} />}\r\n    </motion.button>\r\n  );\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogTrigger,\r\n  DialogContainer,\r\n  DialogContent,\r\n  DialogClose,\r\n  DialogTitle,\r\n  DialogSubtitle,\r\n  DialogDescription,\r\n  DialogImage,\r\n};\r\n",
      "type": "registry:component"
    }
  ]
}