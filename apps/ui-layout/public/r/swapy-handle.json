{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "swapy-handle",
  "type": "registry:component",
  "dependencies": [
    "swapy"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "./registry/components/swapy/swapy-handle.tsx",
      "content": "\"use client\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { SlotItemMapArray, utils } from \"swapy\";\r\nimport { DragHandle, SwapyItem, SwapyLayout, SwapySlot } from \"@/components/ui/swapy\";\r\n\r\ntype Item = {\r\n  id: string;\r\n  title: string;\r\n  bgColor: string;\r\n  iconBgColor: string;\r\n  className?: string;\r\n};\r\n\r\nconst initialItems: Item[] = [\r\n  {\r\n    id: \"1\",\r\n    title: \"âš¡ Turbocharge Everything\",\r\n    bgColor: \"bg-blue-400\",\r\n    iconBgColor: \"bg-blue-100\",\r\n    className: \"lg:col-span-4 sm:col-span-7 col-span-12\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"ðŸ§  Brainy Decisions\",\r\n    bgColor: \"bg-pink-300\",\r\n    iconBgColor: \"bg-pink-100\",\r\n    className: \"lg:col-span-3 sm:col-span-5 col-span-12\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"ðŸŒˆ Magical Moments\",\r\n    bgColor: \"bg-green-400\",\r\n    iconBgColor: \"bg-green-100\",\r\n    className: \"lg:col-span-5 sm:col-span-5 col-span-12\",\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"ðŸš€ Innovate Like Crazy\",\r\n    bgColor: \"bg-yellow-300\",\r\n    iconBgColor: \"bg-yellow-100\",\r\n    className: \"lg:col-span-5 sm:col-span-7 col-span-12\",\r\n  },\r\n  {\r\n    id: \"5\",\r\n    title: \"ðŸ’° Save Big, Smile More\",\r\n    bgColor: \"bg-purple-300\",\r\n    iconBgColor: \"bg-purple-100\",\r\n    className: \"lg:col-span-4 sm:col-span-6 col-span-12\",\r\n  },\r\n  {\r\n    id: \"6\",\r\n    title: \"ðŸ”® AI Vibes Only\",\r\n    bgColor: \"bg-cyan-300\",\r\n    iconBgColor: \"bg-cyan-100\",\r\n    className: \"lg:col-span-3 sm:col-span-6 col-span-12\",\r\n  },\r\n];\r\n\r\n\r\nfunction index() {\r\n  const [slotItemMap, setSlotItemMap] = useState<SlotItemMapArray>(\r\n    utils.initSlotItemMap(initialItems, \"id\")\r\n  );\r\n\r\n  const slottedItems = useMemo(\r\n    () => utils.toSlottedItems(initialItems, \"id\", slotItemMap),\r\n    [initialItems, slotItemMap]\r\n  );\r\n\r\n  return (\r\n    <SwapyLayout\r\n      id=\"swapy\"\r\n      className=\"w-full\"\r\n      config={{\r\n        swapMode: \"hover\",\r\n      }}\r\n      onSwap={(event: { newSlotItemMap: { asArray: any; }; }) => {\r\n        console.log(\"Swap detected!\", event.newSlotItemMap.asArray);\r\n      }}\r\n    >\r\n      <div className=\"grid w-full  grid-cols-12 gap-2 md:gap-4 py-4\">\r\n        {slottedItems.map(({ itemId }) => {\r\n          const item = initialItems.find((i) => i.id === itemId);\r\n          return (\r\n            <SwapySlot\r\n              key={itemId}\r\n              className={`swapyItem rounded-lg h-64 ${item?.className}`}\r\n              id={itemId}\r\n            >\r\n              <SwapyItem\r\n                id={itemId}\r\n                className={`relative rounded-lg w-full h-full flex flex-col justify-center items-center gap-2 p-8 ${item?.bgColor}`}\r\n              >\r\n                <DragHandle/>\r\n                <h3 className=\"text-xl font-bold text-black \">{item?.title}</h3>\r\n              </SwapyItem>\r\n            </SwapySlot>\r\n          );\r\n        })}\r\n      </div>\r\n    </SwapyLayout>\r\n  );\r\n}\r\n\r\nexport default index;\r\n",
      "type": "registry:component"
    },
    {
      "path": "./components/ui/swapy.tsx",
      "content": "'use client';\r\n\r\nimport type React from 'react';\r\nimport { useEffect, useRef } from 'react';\r\nimport { createSwapy, type SlotItemMapArray } from 'swapy';\r\nimport { cn } from '@/lib/utils';\r\n\r\ntype AnimationType = 'dynamic' | 'spring' | 'none';\r\ntype SwapMode = 'hover' | 'drop';\r\n\r\ntype Config = {\r\n  animation: AnimationType;\r\n  continuousMode: boolean;\r\n  manualSwap: boolean;\r\n  swapMode: SwapMode;\r\n  autoScrollOnDrag: boolean;\r\n};\r\n\r\ntype SwapyLayoutProps = {\r\n  id: string;\r\n  enable?: boolean;\r\n  onSwap?: (event: { newSlotItemMap: { asArray: SlotItemMapArray } }) => void;\r\n  config?: Partial<Config>;\r\n  className?: string;\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const SwapyLayout = ({\r\n  id,\r\n  onSwap,\r\n  config = {},\r\n  className,\r\n  children,\r\n}: SwapyLayoutProps) => {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const swapyRef = useRef<ReturnType<typeof createSwapy> | null>(null);\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n\r\n    swapyRef.current = createSwapy(container, config);\r\n\r\n    if (onSwap) {\r\n      swapyRef.current.onSwap(onSwap);\r\n    }\r\n\r\n    return () => {\r\n      swapyRef.current?.destroy();\r\n    };\r\n  }, [config, onSwap]);\r\n\r\n  return (\r\n    <div id={id} ref={containerRef} className={className}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const DragHandle = ({ className }: { className?: string }) => {\r\n  return (\r\n    <div\r\n      data-swapy-handle\r\n      className={cn(\r\n        'absolute top-2 left-2 cursor-grab  text-gray-500  rounded-md bg-transparent  active:cursor-grabbing  ',\r\n        className\r\n      )}\r\n    >\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        width='24'\r\n        height='24'\r\n        viewBox='0 0 24 24'\r\n        fill='none'\r\n        stroke='currentColor'\r\n        strokeWidth='2'\r\n        strokeLinecap='round'\r\n        strokeLinejoin='round'\r\n        className='lucide lucide-grip-vertical-icon lucide-grip-vertical opacity-80'\r\n      >\r\n        <circle cx='9' cy='12' r='1' />\r\n        <circle cx='9' cy='5' r='1' />\r\n        <circle cx='9' cy='19' r='1' />\r\n        <circle cx='15' cy='12' r='1' />\r\n        <circle cx='15' cy='5' r='1' />\r\n        <circle cx='15' cy='19' r='1' />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SwapySlot = ({\r\n  id,\r\n  className,\r\n  children,\r\n}: {\r\n  id: string;\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}) => {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'data-swapy-highlighted:bg-neutral-200 dark:data-swapy-highlighted:bg-neutral-800',\r\n        className\r\n      )}\r\n      data-swapy-slot={id}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst dragOpacityClassMap: Record<number, string> = {\r\n  10: 'data-swapy-dragging:opacity-10',\r\n  20: 'data-swapy-dragging:opacity-20',\r\n  30: 'data-swapy-dragging:opacity-30',\r\n  40: 'data-swapy-dragging:opacity-40',\r\n  50: 'data-swapy-dragging:opacity-50',\r\n  60: 'data-swapy-dragging:opacity-60',\r\n  70: 'data-swapy-dragging:opacity-70',\r\n  80: 'data-swapy-dragging:opacity-80',\r\n  90: 'data-swapy-dragging:opacity-90',\r\n  100: 'data-swapy-dragging:opacity-100',\r\n};\r\n\r\nexport const SwapyItem = ({\r\n  id,\r\n  className,\r\n  children,\r\n  dragItemOpacity = 100, // default to 100\r\n}: {\r\n  id: string;\r\n  className?: string;\r\n  children: React.ReactNode;\r\n  dragItemOpacity?: number;\r\n}) => {\r\n  const opacityClass =\r\n    dragOpacityClassMap[dragItemOpacity] ?? 'data-swapy-dragging:opacity-50';\r\n  return (\r\n    <div className={cn(opacityClass, className)} data-swapy-item={id}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n",
      "type": "registry:component"
    }
  ]
}